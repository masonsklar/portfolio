<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"><html><head>    <title>Hi, this is a game</title>    <!--<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">-->    <script type="text/javascript" src="js/jquery.js">    </script>    <script type="text/javascript" src="js/jquery-ui.js">    </script>    <script type="text/javascript" src="js/jquery.ui.touch-punch.js">	</script>	<script type="text/javascript" src="controller/bodymovin.js">	</script>    <style type="text/css">	    html, body {    height: 100%;    overflow: auto;    -webkit-overflow-scrolling: touch;}	    @keyframes drop {			0% {				opacity:1;				margin-top: -12px;				transform: rotate(0deg);			}				100% {				opacity:0;				margin-top: 60px;				transform: rotate(40deg);			}		}		        body {            background-color: gray;            margin: 5px;            height:610px;            width: 310px;        }                #container {            width: 300px;            height: 600px;            background-color: rgba(220, 220, 220, .8);        }                #screen {	        position: relative;            width: 300px;            height: 300px;            background-color: white;        }                                #panel {            width: 300px;            height: 300px;            background-color: rgba(0, 0, 0, .75);            outline: 1px solid black;        }        .box {            margin: 0px;            padding: 0px;            width: 50%;            height: 50%;            float: left;        }                #griddus{	        background-image: url('controller/buttonsbg.svg');        }        #alltoggle{	        width: 25%;	        height: 50%;	        background-image: url('controller/switch.svg');	        background-size: 200% 100%;	        background-position-x: 100%;        }        #alltoggle.on{	        background-position-x: 0%;        }        .toggle{	        height: 25%;	        width: 100%;	        background-color: red;        }        #buttons{	        float: left;	        width: 75%;	        height: 75%;        }        .button{	        float: left;	        width: 37px;	        height: 37px;	        background-image: url('controller/button.svg');	        background-repeat: no-repeat;	        background-size: 200% 100%;	        background-position: right center;        }        .button.on{	        background-position: left center;        }                #quad{	        background-image: url('controller/quadbg.svg');        }                .quadrant {            float:left;            height: 50%;            width: 50%;            margin: 0px;        }                #stone {            background-image: url('controller/stone.svg');            background-position-x: center;            background-size: 300% 100%;            height: 75%;            width: 75%;            top:10px;            left:10px;        }		#stone.held{			background-position-x: left;		}		#stone.broken{			background-position-x: right;		}                                #sliderbox{	        background-image: url('controller/sliderbg.svg');        }                #sliderbox.off{	        opacity: 0.75;        }                .slidedivide{	        height: 25%;	        width: 100%;        }        .slider{	        height: 50%;	        width: 66.66%;	        margin: 20% auto 0%;	        pointer-events: none;	                }        .squirrel{	        background-image: url('controller/slidetrack.svg');	        background-position: center center;	        background-repeat: no-repeat;         }        .break{	        background-repeat: no-repeat;        }        .break .ui-slider-handle{	        background-image: url('controller/slider2.svg');        }        .ui-slider{	        position: relative;        }        .ui-slider-handle{	        position: absolute;	        height: 42px;	        width: 22px;        	pointer-events: auto;        	background-image: url('controller/slider.svg');        	background-repeat: no-repeat;        	margin-top: -12px;        	margin-left: -11px;        }        .ui-slider-handle.off{	        transform: rotate(90deg);        }        .drop{	        animation: drop 1s ease;	        opacity: 0;        }        #breakerr{	        margin: 44% auto;        }        #togglebox{	        background-image: url('controller/breakbg.svg');        }        #screen svg{	        position: absolute;	        outline: 1px solid black;		}		    </style>    <script type="text/javascript">        /* global $ */        /* variables for slider */        var sliderComp1 = 0;        var sliderComp2 = 0;        var sliderTotal = 1;        var sliderLock = 0;        /* variables for quad */        var quadDivide = 9;        var quadLockLimit = 3;        var quadLock = 0;        /* variables for toggles */        var breakLimit = 0;        var breakLock = 0;        /* varigbles for grid*/        var totalChecks = 0;        var checkLock = 1;        /* final state variables */        var squirrelShow = false;        var acornDrop = false;        var timeAdvance = false;        var ending = 0;		var draggus = function() {            $('#stone').draggable({                revert: "invalid",                containment: $("#quad"),                stack: "#quadrant",                start: function(){$(this).toggleClass("held")},                stop: function(){$(this).toggleClass("held")},            });            $('.quadrant').droppable({                enabled: true,                accept: '#stone',            });            $('#q1').droppable({                drop: function(event, ui) {                    quadSet(6);                    $('#quadder').text(quadDivide);                }            });            $('#q2').droppable({                drop: function(event, ui) {                    quadSet(5);                    $('#quadder').text(quadDivide);                }            });            $('#q3').droppable({                drop: function(event, ui) {                    quadSet(4);                    $('#quadder').text(quadDivide);                }            });            $('#q4').droppable({                drop: function(event, ui) {                    quadSet(3);                    $('#quadder').text(quadDivide);                }            });            $( "#squirrelslider1" ).slider({				value: 4,				orientation: "horizontal",				min: 1,				max: 10,				animate: true,				change: function(event,ui){					pushNumber(ui.value, sliderComp1)				}			});			$( "#squirrelslider2" ).slider({				value: 75,				orientation: "horizontal",				min: 1,				max: 100,				step: 3,				animate: true,				change: function(event,ui){					pushNumber(ui.value, sliderComp2)				}			});			$( "#breakerr" ).slider({				orientation: "horizontal",				min: 1,				max: 3,				animate: false,				slide: function(event,ui){					breakSlide()				}			});            var breakSlide = function() {                breakLimit++;                $('#breakerresult').text(breakLimit + " vs q of " + quadDivide);                if (breakLimit >= quadDivide && breakLock == 0) {	                $( "#breakerr" ).slider( "disable" );	                $( "#breakerr" ).children(".ui-slider-handle").addClass("drop");                    breakLock = breakLimit;                    $('#breakerresult').text(breakLimit + " vs q of " + quadDivide);                    $('#breakerlock').text(breakLock);                    checker();                }            };                        $(".slider").mousedown(function() {   				$(this).blur(); 			});                        $("#alltoggle").click(function(){	            $("#alltoggle").toggleClass("on");	            $(".button").toggleClass("on");	            totalChecks = 0;	            $(".button").each(function(){		            if($(this).hasClass("on")){			            totalChecks+=1;		            }	            });	           $('#gridresult').text(totalChecks);            });                        $(".button").click(function(){	            $(this).toggleClass("on");	            totalChecks = 0;	            $(".button").each(function(){		            if($(this).hasClass("on")){			            totalChecks+=1;		            }	            });	            $('#gridresult').text(totalChecks);            });		        };        var checker = function() {            if (sliderLock != 0 && quadLock != 0 && breakLock != 0) {                                if (breakLock % 2 != sliderComp2 % 2) {                    squirrelShow = true;                    $("#squirrel").text("SQUIRREL");                    console.log(breakLock%2);                    console.log(sliderComp2%2);                } else {                    squirrelShow = false;                    $("#squirrel").text("NO SQUIRREL");                }                if (totalChecks % 2 == breakLock % 2) {                    acornDrop = true;                    $("#acorn").text("ACORN DROPS");                } else {                    acornDrop = false;                    $("#acorn").text("ACORN STAY");                }                if (sliderLock % quadLock != 0) {                    timeAdvance = true;                    $("#time").text("TIME ADVANCE");                } else {                    timeAdvance = false;                    $("#time").text("TIME STAYS");                }                                if (squirrelShow == true){                    if (acornDrop == true && timeAdvance == true){	                    ending = 1;	                    var anim = bodymovin.loadAnimation(data1);	                    anim.addEventListener('complete', setIdle);                        $("#ending").text("1 Acorn falls and sprouts overnight. Squirrel passes by.");                    }                    if (acornDrop == true && timeAdvance == false){	                    ending = 2;	                    var anim = bodymovin.loadAnimation(data2);	                    anim.addEventListener('complete', setIdle);                        $("#ending").text("2 Acorn falls, squirrel come to eat it.");                    }                    if (acornDrop == false && timeAdvance == true){	                    ending = 3;	                    var anim = bodymovin.loadAnimation(data3);	                    anim.addEventListener('complete', setIdle);                        $("#ending").text("3 Squirrel comes to sleep in the tree.");                    }                    if (acornDrop == false && timeAdvance == false){	                    ending = 4;	                    var anim = bodymovin.loadAnimation(data4);	                    anim.addEventListener('complete', setIdle);                        $("#ending").text("4 Squirrel passes by.");                    }                } else if (squirrelShow == false){                    if (acornDrop == true && timeAdvance == true){	                    ending = 5;	                    var anim = bodymovin.loadAnimation(data5);	                    anim.addEventListener('complete', setIdle);                        $("#ending").text("5 Scorn falls and sprouts overnight.");                    }                    if (acornDrop == true && timeAdvance == false){	                    ending = 6;	                    var anim = bodymovin.loadAnimation(data6);	                    anim.addEventListener('complete', setIdle);                        $("#ending").text("6 Acorn falls but blows away.");                    }                    if (acornDrop == false && timeAdvance == true){	                    ending = 7;	                    var anim = bodymovin.loadAnimation(data7);	                    anim.addEventListener('complete', setIdle);                        $("#ending").text("7 It's a nice night tonight.");                    }                    if (acornDrop == false && timeAdvance == false){	                    ending = 8;	                    var anim = bodymovin.loadAnimation(data8);	                    anim.addEventListener('complete', setIdle);                        $("#ending").text("8 Nothin goin on.");                    }                }                            }        };        var calcSlider = function(sliderTotal) {            sliderComp1 = $("#squirrelslider1" ).slider('value');            sliderComp2 = $("#squirrelslider2" ).slider('value');            sliderTotal = sliderComp1 * sliderComp2;            $('#slidertotal1').text(sliderComp1);            $('#slidertotal2').text(sliderComp2);            $('#slidertotalgrand').text(sliderTotal);            if (sliderLock == 0 && sliderTotal % quadDivide == 0) {                sliderLock = sliderTotal;                $("#sliderbox").addClass("off");                $( ".squirrel" ).children(".ui-slider-handle").addClass("off");                $(".squirrel").slider("disable");                $("#sliderlock").text(sliderLock);                checker();            }        };        var pushNumber = function(x, dest) {            dest = x;            console.log(dest);            calcSlider(sliderTotal);        };        var quadSet = function(x) {            if (quadLockLimit > 0) {                quadDivide = x;                quadLockLimit--;            } else if (quadLockLimit == 0) {                quadDivide = x;                quadLock = quadDivide;                $('#quadlock').text(quadLock);                $('#stone').draggable("disable");                $('#stone').toggleClass("broken");                checker();            }        };        var setIdle=function(){	    if (ending == 1){		    var anim = bodymovin.loadAnimation(sproutIdle);	    } else if (ending == 2){		    var anim = bodymovin.loadAnimation(eatIdle);	    } else if (ending == 3){		    var anim = bodymovin.loadAnimation(nightIdle);	    } else if (ending == 4){		    var anim = bodymovin.loadAnimation(regularIdle);	    } else if (ending == 5){		    var anim = bodymovin.loadAnimation(sproutIdle);	    } else if (ending == 6){		    var anim = bodymovin.loadAnimation(emptyIdle);	    } else if (ending == 7){		    var anim = bodymovin.loadAnimation(niceIdle);	    } else if (ending == 8){		    var anim = bodymovin.loadAnimation(regularIdle);	    }    };    </script></head><body onLoad="draggus()">    <div id="container">        <div id="screen">            <!--<div id="cat" style="border:1px solid black">                slider <span id="slidertotal1">is idle</span>*<span id="slidertotal2">is idle</span>*<span id="slidertotal3">is idle</span> = <span id="slidertotalgrand"></span><span id="sliderlock" style="float:right">NO</span>            </div>            <div id="quadDivide" style="border:1px solid black">                quadDivide <span id="quadder">is idle</span><span id="quadlock" style="float:right">NO</span>            </div>            <div id="breaker" style="border:1px solid black">                breaker <span id="breakerresult">is idle</span><span id="breakerlock" style="float:right">NO</span>            </div>            <div id="gridder" style="border:1px solid black">                gridbox <span id="gridresult">is idle</span><span id="gridlock" style="float:right">NO</span>            </div>            <div id="squirrel"></div>            <div id="acorn"></div>            <div id="time"></div>            <div id="ending"></div>-->        </div>        <div id="panel">			<div id="griddus" class="box">                <!-- This control is a grid of on/off switched and a toggle that turns them all on or off.  -->                <div id="alltoggle"style="float:left">                                    </div>                                <div id="buttons">	                <div class="button"></div>	                <div class="button"></div>	                <div class="button on"></div>	                	                <div class="button"></div>	                <div class="button"></div>	                <div class="button"></div>	                	                <div class="button"></div>	                <div class="button"></div>	                <div class="button on"></div>                </div>            </div>						<div id="quad" class="box">                <!-- This control is a white stone in a tray divided into 4ths. The quadrant that holds the stone determines the value of the modifier. -->                               <div id="q1" class="quadrant">                    <div id="stone"></div>                </div>                <div id="q2" class="quadrant"></div>                <div id="q3" class="quadrant"></div>                <div id="q4" class="quadrant"></div>            </div>			            <div id="sliderbox" class="box">                <!-- This control is 3 sliders that make a single number. If that output is evenly divisible by the stone box control, the result is final. -->                                <!--<input id="box1comp1" type="range" min="1" max="10" onchange="pushNumber(this.value, sliderComp1)"><br>                <input id="box1comp2" type="range" min="1" max="100" step="7" value="6" onchange="pushNumber(this.value, sliderComp2)"><br>-->                <div class="slidedivide">	                <div class="slider squirrel" id="squirrelslider1"></div>	            </div>                <div class="slidedivide">	                <div class="slider squirrel" id="squirrelslider2"></div>	            </div>            </div>                        <div id="togglebox" class="box">                <!-- This control is 3 toggles that break when they're clicked an equal or greater number of times to the stone box modifier. -->                               <div class="slidedivide">	                <div class="slider break" id="breakerr"></div>	            </div>            </div><div id="glass"></div>                    </div>    </div>    <script>	    var idleData = {        wrapper: document.getElementById('screen'),        animType: 'svg',        name: 'idle',        loop: true,        prerender: true,        autoplay: true,        path: 'controller/anim/idle.json'    };    var data1 = {        wrapper: document.getElementById('screen'),        animType: 'svg',        name: 'idle',        loop: false,        prerender: true,        autoplay: true,        path: 'controller/anim/1.json'    };    var data2 = {        wrapper: document.getElementById('screen'),        animType: 'svg',        name: 'idle',        loop: false,        prerender: true,        autoplay: true,        path: 'controller/anim/2.json'    };    var data3 = {        wrapper: document.getElementById('screen'),        animType: 'svg',        name: 'idle',        loop: false,        prerender: true,        autoplay: true,        path: 'controller/anim/3.json'    };    var data4 = {        wrapper: document.getElementById('screen'),        animType: 'svg',        name: 'idle',        loop: false,        prerender: true,        autoplay: true,        path: 'controller/anim/4.json'    };    var data5 = {        wrapper: document.getElementById('screen'),        animType: 'svg',        name: 'idle',        loop: false,        prerender: true,        autoplay: true,        path: 'controller/anim/5.json'    };    var data6 = {        wrapper: document.getElementById('screen'),        animType: 'svg',        name: 'idle',        loop: false,        prerender: true,        autoplay: true,        path: 'controller/anim/6.json'    };    var data7 = {        wrapper: document.getElementById('screen'),        animType: 'svg',        name: 'idle',        loop: false,        prerender: true,        autoplay: true,        path: 'controller/anim/7.json'    };    var data8 = {        wrapper: document.getElementById('screen'),        animType: 'svg',        name: 'idle',        loop: false,        prerender: true,        autoplay: true,        path: 'controller/anim/8.json'    };    var regularIdle = {        wrapper: document.getElementById('screen'),        animType: 'svg',        name: 'idle',        loop: true,        prerender: true,        autoplay: true,        path: 'controller/anim/regularidle.json'    };    var emptyIdle = {        wrapper: document.getElementById('screen'),        animType: 'svg',        name: 'idle',        loop: true,        prerender: true,        autoplay: true,        path: 'controller/anim/emptyidle.json'    };    var nightIdle = {        wrapper: document.getElementById('screen'),        animType: 'svg',        name: 'idle',        loop: true,        prerender: true,        autoplay: true,        path: 'controller/anim/nightidle.json'    };    var sproutIdle = {        wrapper: document.getElementById('screen'),        animType: 'svg',        name: 'idle',        loop: true,        prerender: true,        autoplay: true,        path: 'controller/anim/sproutidle.json'    };    var niceIdle = {        wrapper: document.getElementById('screen'),        animType: 'svg',        name: 'idle',        loop: true,        prerender: true,        autoplay: true,        path: 'controller/anim/niceidle.json'    };    var eatIdle = {        wrapper: document.getElementById('screen'),        animType: 'svg',        name: 'idle',        loop: true,        prerender: true,        autoplay: true,        path: 'controller/anim/eatidle.json'    };            var anim = bodymovin.loadAnimation(idleData);   	</script></body></html>